#VRML_SIM R2023b utf8
PROTO Titan [
  field SFVec3f    translation 0 0.9 0
  field SFRotation rotation    0 1 0 0
  field SFString   controller  "<extern>"
  field SFString   name        "Titan"
]
{
  Robot {
    translation IS translation
    rotation IS rotation
    controller IS controller
    name IS name
    children [
      # --- SENSORS ---
      InertialUnit {
        name "imu"
      }
      GPS {
        name "gps"
      }
      
      # --- TORSO ---
      DEF TORSO Solid {
        children [
          Shape {
            appearance PBRAppearance { baseColor 0.8 0.1 0.1 roughness 0.5 }
            geometry Box { size 0.2 0.3 0.15 }
          }
        ]
        physics Physics { mass 0.5 }
      }

      # --- RIGHT LEG ---
      HingeJoint {
        jointParameters HingeJointParameters { anchor 0.08 -0.15 0 axis 1 0 0 }
        device [ RotationalMotor { name "RHip" } ]
        endPoint Solid {
          name "right_leg_solid"
          translation 0.08 -0.3 0
          children [
            Shape { geometry Box { size 0.05 0.4 0.05 } }
            # FOOT SENSOR
            TouchSensor {
              name "RFootSensor"
              boundingObject Box { size 0.05 0.01 0.05 }
              physics Physics {}
            }
          ]
          boundingObject Box { size 0.05 0.4 0.05 }
          physics Physics { mass 2 }
        }
      }

      # --- LEFT LEG ---
      HingeJoint {
        jointParameters HingeJointParameters { anchor -0.08 -0.15 0 axis 1 0 0 }
        device [ RotationalMotor { name "LHip" } ]
        endPoint Solid {
          name "left_leg_solid"
          translation -0.08 -0.3 0
          children [
            Shape { geometry Box { size 0.05 0.4 0.05 } }
            # FOOT SENSOR
            TouchSensor {
              name "LFootSensor"
              boundingObject Box { size 0.05 0.01 0.05 }
              physics Physics {}
            }
          ]
          boundingObject Box { size 0.05 0.4 0.05 }
          physics Physics { mass 2 }
        }
      }
    ]
  }
}
